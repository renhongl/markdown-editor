(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){e.exports=n(560)},390:function(e,t,n){},558:function(e,t,n){},560:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(16),i=n(17),o=n(18),c=n(20),s=n(19),u=n(21),h=n(125),d=n(74),m=n.n(d),p=n(126),f=n.n(p),g=(n(386),new f.a({html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&m.a.getLanguage(t))try{return'<pre class="hljs"><code>'+m.a.highlight(t,e,!0).value+"</code></pre>"}catch(n){}return'<pre class="hljs"><code>'+g.utils.escapeHtml(e)+"</code></pre>"}})),v=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.input,t=g.render(e);return r.a.createElement("div",{className:"preview-container"},r.a.createElement("div",{className:"preview-title"},r.a.createElement("div",{className:"preview-title-left"},"Preview")),r.a.createElement("div",{className:"preview"},r.a.createElement("div",{id:"content",dangerouslySetInnerHTML:{__html:t}})))}}]),t}(r.a.Component),E=(n(388),n(390),n(24)),w=n(133),b=n.n(w),y=n(139),O=n(56),C=n.n(O),j=n(57),k=n.n(j),S=n(128),x=n.n(S),D=n(73),N=n.n(D),L=n(33),T=n.n(L),M=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[0]},n.handleToggle=function(e){return function(){var t=n.state.checked,a=t.indexOf(e),r=Object(y.a)(t);-1===a?r.push(e):r.splice(a,1),n.setState({checked:r})}},n.handleAction=function(e){return function(){n.props.toggleDrawer(),n.props.switchCurrent(e)}},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.fileList;return r.a.createElement(C.a,{className:n.root},a.map(function(t,n){return r.a.createElement(k.a,{key:t.id,role:void 0,dense:!0,button:!0,onClick:e.handleToggle()},r.a.createElement(N.a,{primary:t.title}),r.a.createElement(x.a,null,r.a.createElement(T.a,{"aria-label":"Comments",onClick:e.handleAction(n)},r.a.createElement("i",{className:"material-icons"},"border_color"))))}))}}]),t}(r.a.Component),A=Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})(M),H=n(129),R=n.n(H),P=n(130),F=n.n(P),I=n(132),q=n.n(I),B=n(40),V=n.n(B),J=n(131),W=n.n(J);var _=Object(E.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(function(e){var t=e.classes,n=e.fileList,a=e.switchCurrent,l=e.toggleDrawer;return r.a.createElement("div",{className:t.root},r.a.createElement(R.a,null,r.a.createElement(F.a,{expandIcon:r.a.createElement(W.a,null)},r.a.createElement(V.a,{className:t.heading},"DOCUMENTS")),r.a.createElement(q.a,null,r.a.createElement(A,{fileList:n,switchCurrent:a,toggleDrawer:l}))))}),z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.open,a=e.toggleDrawer,l=e.fileList,i=e.switchCurrent;return r.a.createElement("div",null,r.a.createElement(b.a,{open:n,onClose:a},r.a.createElement("div",{tabIndex:0,role:"button",className:t.list,onKeyDown:a},r.a.createElement("h1",null,"\u67da\u5b50"),r.a.createElement(_,{fileList:l,switchCurrent:i,toggleDrawer:a}))))}}]),t}(r.a.Component),G=Object(E.withStyles)({list:{width:250}})(z),K=n(134),U=n.n(K),X=n(135),Q=n.n(X),Y=n(136),Z=n.n(Y),$=n(75),ee=n.n($),te=n(137),ne=n.n(te),ae=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0,anchorEl:null},n.handleChange=function(e){n.setState({auth:e.target.checked})},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(e){n.setState({anchorEl:null}),e&&"pdf"===e&&n.props.exportPdf(),e&&"md"===e&&n.props.exportMD()},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.toggleDrawer,l=this.state,i=l.auth,o=l.anchorEl,c=Boolean(o);return r.a.createElement("div",{className:n.root},r.a.createElement(U.a,{position:"static"},r.a.createElement(Q.a,null,r.a.createElement(T.a,{className:n.menuButton,color:"inherit","aria-label":"Menu",onClick:a},r.a.createElement(Z.a,null)),r.a.createElement(V.a,{variant:"h6",color:"inherit",className:n.grow},"Markdown Editor by \u67da\u5b50"),i&&r.a.createElement("div",null,r.a.createElement(T.a,{"aria-owns":c?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement("i",{className:"material-icons"},"import_export")),r.a.createElement(ne.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:this.handleClose},r.a.createElement(ee.a,{onClick:function(){return e.handleClose("pdf")}},"EXPORT AS PDF"),r.a.createElement(ee.a,{onClick:function(){return e.handleClose("md")}},"EXPORT AS MARKDOWN"))))))}}]),t}(r.a.Component),re=Object(E.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(ae),le=n(39),ie=n.n(le),oe=(n(521),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.value,a=t.handleValueChange;this.myCodeMirror=ie()(document.querySelector(".markdown"),{value:n,mode:{name:"markdown",highlightFormatting:!0},lineNumbers:!0}),this.myCodeMirror.on("change",function(t,n){a(e.myCodeMirror.getValue())})}},{key:"render",value:function(){var e=this.props.title;return a.createElement("div",{className:"markdown-container"},a.createElement("div",{className:"markdown-title"},e),a.createElement("div",{className:"markdown"}))}}]),t}(a.Component)),ce=n(138),se=n.n(ce),ue={container:{width:"100%",height:"100%"},left:{width:"50%",float:"left",height:"calc(100% - 66px)"},right:{width:"50%",float:"left",height:"calc(100% - 66px)",overflow:"hidden"}},he=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleValueChange=function(e){n.updateFileList(e)},n.toggleDrawer=function(){n.setState({left:!n.state.left})},n.exportPdf=function(){var e=document.getElementById("content");se()().set({margin:1,filename:"markdown.pdf",image:{type:"jpeg",quality:.98},pagebreak:{mode:["avoid-all","css","legacy"]},html2canvas:{dpi:192,letterRendering:!0,useCORS:!0,imageTimeout:0},useCORS:!0,jsPDF:{unit:"in",format:"letter",orientation:"portrait"}}).from(e).save()},n.exportMD=function(){var e=document.querySelector(".public-DraftEditor-content").innerText;n.download("markdown.md",e)},n.switchCurrent=function(e){n.setState({current:-1}),setTimeout(function(){n.setState({current:e})},500),setTimeout(function(){n.handleEvents()},700)},n.updateScroll=function(e){n.setState({scroll:e})},n.state={current:0,left:!1,scroll:!1,fileList:[{id:0,title:"example 1",text:"# test"},{id:1,title:"example 2",text:"**this is a good words**"}]},n.converter=new h.Converter({tables:!0,simplifiedAutoLink:!0}),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"updateFileList",value:function(e){var t=this,n=JSON.parse(JSON.stringify(this.state.fileList));n.forEach(function(n,a){a===t.state.current&&(n.text=e)}),this.setState({fileList:n})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.handleEvents()},700)}},{key:"download",value:function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"getFileObj",value:function(e){return this.state.fileList.filter(function(t){return t.id===e})[0]}},{key:"handleEvents",value:function(){var e=document.querySelector(".preview"),t=document.querySelector(".CodeMirror-scroll"),n=-1,a=null,r=function(){null!==a&&clearTimeout(a),a=setTimeout(function(){n=-1},20)};t.addEventListener("scroll",function(t){if(-1===n){n=0;var a=t.target.scrollTop/(t.target.scrollHeight-t.target.clientHeight);e.scrollTop=(e.scrollHeight-e.clientHeight)*a,r()}}),e.addEventListener("scroll",function(e){if(-1===n){n=1;var a=e.target.scrollTop/(e.target.scrollHeight-e.target.clientHeight);t.scrollTop=(t.scrollHeight-t.clientHeight)*a,r()}})}},{key:"render",value:function(){var e=this.state,t=e.fileList,n=e.left,r=e.current,l=e.scroll;return a.createElement("div",{style:ue.container},a.createElement(re,{toggleDrawer:this.toggleDrawer,exportMD:this.exportMD,exportPdf:this.exportPdf}),a.createElement(G,{open:n,toggleDrawer:this.toggleDrawer,fileList:t,switchCurrent:this.switchCurrent}),a.createElement("div",{style:ue.left},-1!==r?a.createElement(oe,{title:t[r].title,handleValueChange:this.handleValueChange,value:t[r].text,current:r,scroll:l,updateScroll:this.updateScroll}):null),a.createElement("div",{style:ue.right},-1!==r?a.createElement(v,{scroll:l,updateScroll:this.updateScroll,input:t[r].text}):null))}}]),t}(a.Component);n(558);Object(l.render)(r.a.createElement(function(){return r.a.createElement(he,null)},null),document.getElementById("root"))}},[[140,2,1]]]);
//# sourceMappingURL=main.a38bb0a0.chunk.js.map