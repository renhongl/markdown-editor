{"version":3,"sources":["markdownEditor/Preview.js","markdownEditor/DocumentList.js","markdownEditor/ExtendPanel.js","markdownEditor/Drawer.js","markdownEditor/AppBar.js","markdownEditor/Markdown.js","markdownEditor/MarkdownEditor.js","index.js"],"names":["md","MarkdownIt","html","linkify","typographer","highlight","str","lang","hljs","getLanguage","value","__","utils","escapeHtml","Preview","input","this","props","result","render","react_default","a","createElement","className","id","dangerouslySetInnerHTML","__html","React","Component","CheckboxList","state","checked","handleToggle","_this","currentIndex","indexOf","newChecked","Object","toConsumableArray","push","splice","setState","handleAction","index","toggleDrawer","switchCurrent","_this2","_this$props","classes","fileList","List_default","root","map","item","ListItem_default","key","role","undefined","dense","button","onClick","ListItemText_default","primary","title","ListItemSecondaryAction_default","IconButton_default","aria-label","withStyles","theme","width","maxWidth","backgroundColor","palette","background","paper","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","ExpansionPanel_default","ExpansionPanelSummary_default","expandIcon","ExpandMore_default","Typography_default","ExpansionPanelDetails_default","DocumentList","TemporaryDrawer","open","Drawer_default","onClose","tabIndex","list","onKeyDown","ExtendPanel","MenuAppBar","auth","anchorEl","handleChange","event","target","handleMenu","currentTarget","handleClose","type","exportPdf","exportMD","_this$state","Boolean","AppBar_default","position","Toolbar_default","menuButton","color","Menu_default","variant","grow","aria-owns","aria-haspopup","core_Menu_default","anchorOrigin","vertical","horizontal","transformOrigin","MenuItem_default","flexGrow","marginLeft","marginRight","Markdown","handleValueChange","myCodeMirror","CodeMirror","document","querySelector","mode","name","highlightFormatting","lineNumbers","on","b","getValue","_this$props2","updateTitle","react","Input_default","onChange","styles","container","height","left","float","right","overflow","MarkdownEditor","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","updateFileListText","current","element","getElementById","opt","margin","filename","replace","image","quality","pagebreak","html2canvas","dpi","letterRendering","useCORS","imageTimeout","jsPDF","unit","format","orientation","html2pdf","set","from","save","_this$state2","content","innerText","download","setTimeout","handleEvents","e","updateFileListTitle","text","converter","Showdown","tables","simplifiedAutoLink","newFileList","JSON","parse","stringify","forEach","i","_this3","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","filter","preview","scroolDom","timer","reset","clearTimeout","addEventListener","scrollScale","scrollTop","scrollHeight","clientHeight","_this4","_this$state3","scroll","markdownEditor_AppBar","markdownEditor_Drawer","Markdown_Markdown","Preview_Preview","MarkdownEditor_MarkdownEditor"],"mappings":"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","file":"static/js/main.c2191402.chunk.js","sourcesContent":["import React from \"react\";\nimport hljs from \"highlight.js\";\nimport MarkdownIt from \"markdown-it\";\nimport \"highlight.js/styles/atom-one-light.css\";\n\nconst md = new MarkdownIt({\n  html: true,\n  linkify: true,\n  typographer: true,\n  highlight: function(str, lang) {\n    if (lang && hljs.getLanguage(lang)) {\n      try {\n        return (\n          '<pre class=\"hljs\"><code>' +\n          hljs.highlight(lang, str, true).value +\n          \"</code></pre>\"\n        );\n      } catch (__) {}\n    }\n    return (\n      '<pre class=\"hljs\"><code>' + md.utils.escapeHtml(str) + \"</code></pre>\"\n    );\n  }\n});\n\nexport default class Preview extends React.Component {\n  render() {\n    const { input } = this.props;\n    const result = md.render(input);\n    return (\n      <div className=\"preview-container\">\n        <div className=\"preview-title\">\n          <div className=\"preview-title-left\">Preview</div>\n        </div>\n        <div className=\"preview\">\n          <div id=\"content\" dangerouslySetInnerHTML={{ __html: result }} />\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nconst styles = theme => ({\n  root: {\n    width: \"100%\",\n    maxWidth: 360,\n    backgroundColor: theme.palette.background.paper\n  }\n});\n\nclass CheckboxList extends React.Component {\n  state = {\n    checked: [0]\n  };\n\n  handleToggle = value => () => {\n    const { checked } = this.state;\n    const currentIndex = checked.indexOf(value);\n    const newChecked = [...checked];\n\n    if (currentIndex === -1) {\n      newChecked.push(value);\n    } else {\n      newChecked.splice(currentIndex, 1);\n    }\n\n    this.setState({\n      checked: newChecked\n    });\n  };\n\n  handleAction = index => () => {\n    this.props.toggleDrawer();\n    this.props.switchCurrent(index);\n  };\n\n  render() {\n    const { classes, fileList } = this.props;\n    return (\n      <List className={classes.root}>\n        {fileList.map((item, index) => (\n          <ListItem\n            key={item.id}\n            role={undefined}\n            dense\n            button\n            onClick={this.handleToggle()}\n          >\n            <ListItemText primary={item.title} />\n            <ListItemSecondaryAction>\n              <IconButton\n                aria-label=\"Comments\"\n                onClick={this.handleAction(index)}\n              >\n                <i className=\"material-icons\">border_color</i>\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n        ))}\n      </List>\n    );\n  }\n}\n\nCheckboxList.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(CheckboxList);\n","import DocumentList from './DocumentList';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst styles = theme => ({\n  root: {\n    width: '100%',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n});\n\nfunction SimpleExpansionPanel(props) {\n  const { classes, fileList, switchCurrent, toggleDrawer } = props;\n  return (\n    <div className={classes.root}>\n      <ExpansionPanel>\n        <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n          <Typography className={classes.heading}>DOCUMENTS</Typography>\n        </ExpansionPanelSummary>\n        <ExpansionPanelDetails>\n          <DocumentList fileList={fileList} switchCurrent={switchCurrent} toggleDrawer={toggleDrawer}/>\n        </ExpansionPanelDetails>\n      </ExpansionPanel>\n    </div>\n  );\n}\n\nSimpleExpansionPanel.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SimpleExpansionPanel);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport InboxIcon from '@material-ui/icons/MoveToInbox';\nimport MailIcon from '@material-ui/icons/Mail';\nimport ExtendPanel from './ExtendPanel';\n\nconst styles = {\n  list: {\n    width: 250,\n  },\n};\n\nclass TemporaryDrawer extends React.Component {\n  render() {\n    const { classes, open, toggleDrawer, fileList, switchCurrent } = this.props;\n    return (\n      <div>\n        <Drawer open={open} onClose={toggleDrawer}>\n          <div\n            tabIndex={0}\n            role=\"button\"\n            className={classes.list}\n            onKeyDown={toggleDrawer}\n          >\n            <h1>柚子</h1>\n            <ExtendPanel fileList={fileList} switchCurrent={switchCurrent} toggleDrawer={toggleDrawer}/>\n          </div>\n        </Drawer>\n      </div>\n    );\n  }\n}\n\nTemporaryDrawer.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(TemporaryDrawer);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport Switch from '@material-ui/core/Switch';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Menu from '@material-ui/core/Menu';\n\nconst styles = {\n  root: {\n    flexGrow: 1,\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n};\n\nclass MenuAppBar extends React.Component {\n  state = {\n    auth: true,\n    anchorEl: null,\n  };\n\n  handleChange = event => {\n    this.setState({ auth: event.target.checked });\n  };\n\n  handleMenu = event => {\n    this.setState({ anchorEl: event.currentTarget });\n  };\n\n  handleClose = (type) => {\n    this.setState({ anchorEl: null });\n    if (type && type === 'pdf') {\n      this.props.exportPdf();\n    }\n    if (type && type === 'md') {\n      this.props.exportMD();\n    }\n  };\n\n  render() {\n    const { classes, toggleDrawer } = this.props;\n    const { auth, anchorEl } = this.state;\n    const open = Boolean(anchorEl);\n\n    return (\n      <div className={classes.root}>\n        <AppBar position=\"static\">\n          <Toolbar>\n            <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Menu\" onClick={toggleDrawer}>\n              <MenuIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" className={classes.grow}>\n              Markdown Editor by 柚子\n            </Typography>\n            {auth && (\n              <div>\n                <IconButton\n                  aria-owns={open ? 'menu-appbar' : undefined}\n                  aria-haspopup=\"true\"\n                  onClick={this.handleMenu}\n                  color=\"inherit\"\n                >\n                  <i className=\"material-icons\">\n                    import_export\n                  </i>\n                </IconButton>\n                <Menu\n                  id=\"menu-appbar\"\n                  anchorEl={anchorEl}\n                  anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                  }}\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                  }}\n                  open={open}\n                  onClose={this.handleClose}\n                >\n                  <MenuItem onClick={() => this.handleClose('pdf')}>EXPORT AS PDF</MenuItem>\n                  <MenuItem onClick={() => this.handleClose('md')}>EXPORT AS MARKDOWN</MenuItem>\n                </Menu>\n              </div>\n            )}\n          </Toolbar>\n        </AppBar>\n      </div>\n    );\n  }\n}\n\nMenuAppBar.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(MenuAppBar);","import * as React from \"react\";\nimport CodeMirror from \"codemirror\";\nimport markdownhlt from \"codemirror/mode/markdown/markdown\";\nimport Input from \"@material-ui/core/Input\";\n\nexport default class Markdown extends React.Component {\n  componentDidMount() {\n    const { value, handleValueChange } = this.props;\n    this.myCodeMirror = CodeMirror(document.querySelector(\".markdown\"), {\n      value: value,\n      mode: { name: \"markdown\", highlightFormatting: true },\n      lineNumbers: true\n    });\n    this.myCodeMirror.on(\"change\", (a, b) => {\n      handleValueChange(this.myCodeMirror.getValue());\n    });\n  }\n\n  render() {\n    const { title, updateTitle } = this.props;\n    return (\n      <div className=\"markdown-container\">\n        <div className=\"markdown-title\">\n          <Input value={title} onChange={updateTitle} />\n        </div>\n        <div className=\"markdown\" />\n      </div>\n    );\n  }\n}\n","import * as React from \"react\";\nimport * as Showdown from \"showdown\";\nimport Preview from \"./Preview\";\nimport \"draft-js/dist/Draft.css\";\nimport \"./style.css\";\nimport Drawer from \"./Drawer\";\nimport AppBar from \"./AppBar\";\nimport Markdown from \"./Markdown\";\nimport html2pdf from \"html2pdf.js\";\n\nconst styles = {\n  container: {\n    width: \"100%\",\n    height: \"100%\"\n  },\n  left: {\n    width: \"50%\",\n    float: \"left\",\n    height: \"calc(100% - 66px)\"\n  },\n  right: {\n    width: \"50%\",\n    float: \"left\",\n    height: \"calc(100% - 66px)\",\n    overflow: \"hidden\"\n  }\n};\n\nexport default class MarkdownEditor extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      current: 0,\n      left: false,\n      fileList: [\n        {\n          id: 0,\n          title: \"Utitled Document.md\",\n          text: \"Welcome to use my markdown editor.\"\n        }\n      ]\n    };\n    this.converter = new Showdown.Converter({\n      tables: true,\n      simplifiedAutoLink: true\n    });\n  }\n\n  handleValueChange = value => {\n    this.updateFileListText(value);\n  };\n\n  updateFileListText(value) {\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (i === this.state.current) {\n        item.text = value;\n      }\n    });\n    this.setState({\n      fileList: newFileList\n    });\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.handleEvents();\n    }, 700);\n  }\n\n  toggleDrawer = () => {\n    this.setState({\n      left: !this.state.left\n    });\n  };\n\n  exportPdf = () => {\n    const { fileList, current } = this.state;\n    let element = document.getElementById(\"content\");\n    let opt = {\n      margin: 1,\n      filename: fileList[current].title.replace(\".md\", \"\"),\n      image: { type: \"jpeg\", quality: 0.98 },\n      pagebreak: { mode: [\"avoid-all\", \"css\", \"legacy\"] },\n      html2canvas: {\n        dpi: 192,\n        letterRendering: true,\n        useCORS: true,\n        imageTimeout: 0\n      },\n      useCORS: true,\n      jsPDF: { unit: \"in\", format: \"letter\", orientation: \"portrait\" }\n    };\n    html2pdf()\n      .set(opt)\n      .from(element)\n      .save();\n  };\n\n  exportMD = () => {\n    const { fileList, current } = this.state;\n    const content = document.querySelector(\".CodeMirror-lines\").innerText;\n    this.download(fileList[current].title, content);\n  };\n\n  download(filename, text) {\n    var element = document.createElement(\"a\");\n    element.setAttribute(\n      \"href\",\n      \"data:text/plain;charset=utf-8,\" + encodeURIComponent(text)\n    );\n    element.setAttribute(\"download\", filename);\n    element.style.display = \"none\";\n    document.body.appendChild(element);\n    element.click();\n    document.body.removeChild(element);\n  }\n\n  getFileObj(id) {\n    return this.state.fileList.filter(item => item.id === id)[0];\n  }\n\n  switchCurrent = id => {\n    this.setState({\n      current: -1\n    });\n    setTimeout(() => {\n      this.setState({\n        current: id\n      });\n    }, 500);\n    setTimeout(() => {\n      this.handleEvents();\n    }, 700);\n  };\n\n  handleEvents() {\n    let preview = document.querySelector(\".preview\");\n    let md = document.querySelector(\".CodeMirror-scroll\");\n    let scroolDom = -1;\n    let timer = null;\n    const reset = () => {\n      if (timer !== null) {\n        clearTimeout(timer);\n      }\n      timer = setTimeout(function() {\n        scroolDom = -1;\n      }, 20);\n    };\n    md.addEventListener(\"scroll\", e => {\n      if (scroolDom === -1) {\n        scroolDom = 0;\n        let scrollScale =\n          e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight);\n        preview.scrollTop =\n          (preview.scrollHeight - preview.clientHeight) * scrollScale;\n        reset();\n      }\n    });\n\n    preview.addEventListener(\"scroll\", e => {\n      if (scroolDom === -1) {\n        scroolDom = 1;\n        let scrollScale =\n          e.target.scrollTop / (e.target.scrollHeight - e.target.clientHeight);\n        md.scrollTop = (md.scrollHeight - md.clientHeight) * scrollScale;\n        reset();\n      }\n    });\n  }\n\n  updateTitle = e => {\n    this.updateFileListTitle(e.target.value);\n  };\n\n  updateFileListTitle(value) {\n    let newFileList = JSON.parse(JSON.stringify(this.state.fileList));\n    newFileList.forEach((item, i) => {\n      if (i === this.state.current) {\n        item.title = value;\n      }\n    });\n    this.setState({\n      fileList: newFileList\n    });\n  }\n\n  render() {\n    const { fileList, left, current, scroll } = this.state;\n    return (\n      <div style={styles.container}>\n        <AppBar\n          toggleDrawer={this.toggleDrawer}\n          exportMD={this.exportMD}\n          exportPdf={this.exportPdf}\n        />\n        <Drawer\n          open={left}\n          toggleDrawer={this.toggleDrawer}\n          fileList={fileList}\n          switchCurrent={this.switchCurrent}\n        />\n        <div style={styles.left}>\n          {current !== -1 ? (\n            <Markdown\n              title={fileList[current].title}\n              handleValueChange={this.handleValueChange}\n              value={fileList[current].text}\n              current={current}\n              updateTitle={this.updateTitle}\n            />\n          ) : null}\n        </div>\n        <div style={styles.right}>\n          {current !== -1 ? <Preview input={fileList[current].text} /> : null}\n        </div>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport { render } from \"react-dom\";\nimport { view as MarkdownEditor } from \"./markdownEditor\";\n\nimport \"./styles.css\";\n\nconst App = () => <MarkdownEditor />;\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}