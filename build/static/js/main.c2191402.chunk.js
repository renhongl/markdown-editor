(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,n){e.exports=n(569)},392:function(e,t,n){},567:function(e,t,n){},569:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),l=n(17),o=n(18),c=n(20),s=n(19),u=n(21),h=n(126),d=n(77),m=n.n(d),p=n(127),f=n.n(p),g=(n(388),new f.a({html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&m.a.getLanguage(t))try{return'<pre class="hljs"><code>'+m.a.highlight(t,e,!0).value+"</code></pre>"}catch(n){}return'<pre class="hljs"><code>'+g.utils.escapeHtml(e)+"</code></pre>"}})),v=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.input,t=g.render(e);return r.a.createElement("div",{className:"preview-container"},r.a.createElement("div",{className:"preview-title"},r.a.createElement("div",{className:"preview-title-left"},"Preview")),r.a.createElement("div",{className:"preview"},r.a.createElement("div",{id:"content",dangerouslySetInnerHTML:{__html:t}})))}}]),t}(r.a.Component),E=(n(390),n(392),n(24)),w=n(134),y=n.n(w),b=n(141),O=n(57),C=n.n(O),j=n(58),k=n.n(j),S=n(129),x=n.n(S),T=n(76),L=n.n(T),D=n(33),N=n.n(D),M=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={checked:[0]},n.handleToggle=function(e){return function(){var t=n.state.checked,a=t.indexOf(e),r=Object(b.a)(t);-1===a?r.push(e):r.splice(a,1),n.setState({checked:r})}},n.handleAction=function(e){return function(){n.props.toggleDrawer(),n.props.switchCurrent(e)}},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.fileList;return r.a.createElement(C.a,{className:n.root},a.map(function(t,n){return r.a.createElement(k.a,{key:t.id,role:void 0,dense:!0,button:!0,onClick:e.handleToggle()},r.a.createElement(L.a,{primary:t.title}),r.a.createElement(x.a,null,r.a.createElement(N.a,{"aria-label":"Comments",onClick:e.handleAction(n)},r.a.createElement("i",{className:"material-icons"},"border_color"))))}))}}]),t}(r.a.Component),A=Object(E.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper}}})(M),H=n(130),R=n.n(H),P=n(131),F=n.n(P),I=n(133),J=n.n(I),q=n(41),B=n.n(q),V=n(132),W=n.n(V);var _=Object(E.withStyles)(function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})(function(e){var t=e.classes,n=e.fileList,a=e.switchCurrent,i=e.toggleDrawer;return r.a.createElement("div",{className:t.root},r.a.createElement(R.a,null,r.a.createElement(F.a,{expandIcon:r.a.createElement(W.a,null)},r.a.createElement(B.a,{className:t.heading},"DOCUMENTS")),r.a.createElement(J.a,null,r.a.createElement(A,{fileList:n,switchCurrent:a,toggleDrawer:i}))))}),z=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.open,a=e.toggleDrawer,i=e.fileList,l=e.switchCurrent;return r.a.createElement("div",null,r.a.createElement(y.a,{open:n,onClose:a},r.a.createElement("div",{tabIndex:0,role:"button",className:t.list,onKeyDown:a},r.a.createElement("h1",null,"\u67da\u5b50"),r.a.createElement(_,{fileList:i,switchCurrent:l,toggleDrawer:a}))))}}]),t}(r.a.Component),U=Object(E.withStyles)({list:{width:250}})(z),G=n(135),K=n.n(G),X=n(136),Q=n.n(X),Y=n(137),Z=n.n(Y),$=n(78),ee=n.n($),te=n(138),ne=n.n(te),ae=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={auth:!0,anchorEl:null},n.handleChange=function(e){n.setState({auth:e.target.checked})},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(e){n.setState({anchorEl:null}),e&&"pdf"===e&&n.props.exportPdf(),e&&"md"===e&&n.props.exportMD()},n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.toggleDrawer,i=this.state,l=i.auth,o=i.anchorEl,c=Boolean(o);return r.a.createElement("div",{className:n.root},r.a.createElement(K.a,{position:"static"},r.a.createElement(Q.a,null,r.a.createElement(N.a,{className:n.menuButton,color:"inherit","aria-label":"Menu",onClick:a},r.a.createElement(Z.a,null)),r.a.createElement(B.a,{variant:"h6",color:"inherit",className:n.grow},"Markdown Editor by \u67da\u5b50"),l&&r.a.createElement("div",null,r.a.createElement(N.a,{"aria-owns":c?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},r.a.createElement("i",{className:"material-icons"},"import_export")),r.a.createElement(ne.a,{id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:this.handleClose},r.a.createElement(ee.a,{onClick:function(){return e.handleClose("pdf")}},"EXPORT AS PDF"),r.a.createElement(ee.a,{onClick:function(){return e.handleClose("md")}},"EXPORT AS MARKDOWN"))))))}}]),t}(r.a.Component),re=Object(E.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(ae),ie=n(40),le=n.n(ie),oe=(n(523),n(139)),ce=n.n(oe),se=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.value,a=t.handleValueChange;this.myCodeMirror=le()(document.querySelector(".markdown"),{value:n,mode:{name:"markdown",highlightFormatting:!0},lineNumbers:!0}),this.myCodeMirror.on("change",function(t,n){a(e.myCodeMirror.getValue())})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.updateTitle;return a.createElement("div",{className:"markdown-container"},a.createElement("div",{className:"markdown-title"},a.createElement(ce.a,{value:t,onChange:n})),a.createElement("div",{className:"markdown"}))}}]),t}(a.Component),ue=n(140),he=n.n(ue),de={container:{width:"100%",height:"100%"},left:{width:"50%",float:"left",height:"calc(100% - 66px)"},right:{width:"50%",float:"left",height:"calc(100% - 66px)",overflow:"hidden"}},me=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(s.a)(t).call(this,e))).handleValueChange=function(e){n.updateFileListText(e)},n.toggleDrawer=function(){n.setState({left:!n.state.left})},n.exportPdf=function(){var e=n.state,t=e.fileList,a=e.current,r=document.getElementById("content"),i={margin:1,filename:t[a].title.replace(".md",""),image:{type:"jpeg",quality:.98},pagebreak:{mode:["avoid-all","css","legacy"]},html2canvas:{dpi:192,letterRendering:!0,useCORS:!0,imageTimeout:0},useCORS:!0,jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};he()().set(i).from(r).save()},n.exportMD=function(){var e=n.state,t=e.fileList,a=e.current,r=document.querySelector(".CodeMirror-lines").innerText;n.download(t[a].title,r)},n.switchCurrent=function(e){n.setState({current:-1}),setTimeout(function(){n.setState({current:e})},500),setTimeout(function(){n.handleEvents()},700)},n.updateTitle=function(e){n.updateFileListTitle(e.target.value)},n.state={current:0,left:!1,fileList:[{id:0,title:"Utitled Document.md",text:"Welcome to use my markdown editor."}]},n.converter=new h.Converter({tables:!0,simplifiedAutoLink:!0}),n}return Object(u.a)(t,e),Object(o.a)(t,[{key:"updateFileListText",value:function(e){var t=this,n=JSON.parse(JSON.stringify(this.state.fileList));n.forEach(function(n,a){a===t.state.current&&(n.text=e)}),this.setState({fileList:n})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.handleEvents()},700)}},{key:"download",value:function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"getFileObj",value:function(e){return this.state.fileList.filter(function(t){return t.id===e})[0]}},{key:"handleEvents",value:function(){var e=document.querySelector(".preview"),t=document.querySelector(".CodeMirror-scroll"),n=-1,a=null,r=function(){null!==a&&clearTimeout(a),a=setTimeout(function(){n=-1},20)};t.addEventListener("scroll",function(t){if(-1===n){n=0;var a=t.target.scrollTop/(t.target.scrollHeight-t.target.clientHeight);e.scrollTop=(e.scrollHeight-e.clientHeight)*a,r()}}),e.addEventListener("scroll",function(e){if(-1===n){n=1;var a=e.target.scrollTop/(e.target.scrollHeight-e.target.clientHeight);t.scrollTop=(t.scrollHeight-t.clientHeight)*a,r()}})}},{key:"updateFileListTitle",value:function(e){var t=this,n=JSON.parse(JSON.stringify(this.state.fileList));n.forEach(function(n,a){a===t.state.current&&(n.title=e)}),this.setState({fileList:n})}},{key:"render",value:function(){var e=this.state,t=e.fileList,n=e.left,r=e.current;e.scroll;return a.createElement("div",{style:de.container},a.createElement(re,{toggleDrawer:this.toggleDrawer,exportMD:this.exportMD,exportPdf:this.exportPdf}),a.createElement(U,{open:n,toggleDrawer:this.toggleDrawer,fileList:t,switchCurrent:this.switchCurrent}),a.createElement("div",{style:de.left},-1!==r?a.createElement(se,{title:t[r].title,handleValueChange:this.handleValueChange,value:t[r].text,current:r,updateTitle:this.updateTitle}):null),a.createElement("div",{style:de.right},-1!==r?a.createElement(v,{input:t[r].text}):null))}}]),t}(a.Component);n(567);Object(i.render)(r.a.createElement(function(){return r.a.createElement(me,null)},null),document.getElementById("root"))}},[[142,2,1]]]);
//# sourceMappingURL=main.c2191402.chunk.js.map