(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{224:function(e){e.exports={title:"MARKDOWN ONLINE","import from":"import from","preview as":"preview as","export as":"export as",settings:"Settings",language:"Language",theme:"Theme","auto save":"Auto Save",cancel:"cancel",documents:"documents","untitled document":"Untitled","new document":"New Dcoument","save session":"Save All",preview:"PREVIEW","full screen":"Full Screen","markdown syntax":"Markdown Syntax","mardkown syntax help":"Markdown Syntax Help",rename:"Rename",delete:"Delete","toggle view":"Toggle Preview",words:"WORDS",characters:"CHARACTERS"}},225:function(e){e.exports={title:"\u67da\u5b50MARKDOWN","import from":"\u5bfc\u5165","preview as":"\u9884\u89c8","export as":"\u5bfc\u51fa",settings:"\u8bbe\u7f6e",language:"\u8bed\u8a00",theme:"\u4e3b\u9898","auto save":"\u81ea\u52a8\u4fdd\u5b58",cancel:"\u8fd4\u56de",documents:"\u6587\u6863","untitled document":"\u672a\u547d\u540d","new document":"\u65b0\u5efa\u6587\u6863","save session":"\u4fdd\u5b58\u5168\u90e8",preview:"\u9884\u89c8","full screen":"\u5168\u5c4f","markdown syntax":"Markdown \u53e5\u6cd5","mardkown syntax help":"Markdown \u53e5\u6cd5\u5e2e\u52a9",rename:"\u91cd\u547d\u540d",delete:"\u5220\u9664","toggle view":"\u5207\u6362\u9884\u89c8",words:"\u5355\u8bcd\u6570",characters:"\u5b57\u6570"}},228:function(e,t,n){e.exports=n(798)},477:function(e,t){},485:function(e,t,n){},789:function(e,t,n){},796:function(e,t,n){},798:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(24),o=n(120),i=n(202),c=n(19),s=n(20),u=n(22),m=n(21),p=n(23),d=n(203),h=n(118),f=n.n(h),g=n(204),v=n.n(g),y=(n(473),n(7)),w=new v.a({html:!0,linkify:!0,typographer:!0,highlight:function(e,t){if(t&&f.a.getLanguage(t))try{return'<pre class="hljs"><code>'+f.a.highlight(t,e,!0).value+"</code></pre>"}catch(n){}return'<pre class="hljs"><code>'+w.utils.escapeHtml(e)+"</code></pre>"}}),E=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={preview:!0},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.addStyles()}},{key:"componentDidUpdate",value:function(){this.addStyles()}},{key:"addStyles",value:function(){var e={color:"#464646",fontFamily:"-webkit-body"},t={borderSpacing:0},n={height:"25px",background:"#fafafa",padding:"10px",borderBottom:"1px solid #e8e8e8",textAlign:"left",color:"rgba(0, 0, 0, 0.85)",fontWeight:500},a={borderBottom:"1px solid #e8e8e8",height:"25px",padding:"10px",fontSize:"14px",lineHeight:"1.5",color:"rgba(0, 0, 0, 0.65)",boxSizing:"border-b"},l={lineHeight:"30px"},r={color:"#d32f2f",textDecoration:"underline"},o={lineHeight:"30px",background:"#ececec",borderRadius:"3px"},i={background:"#ececec",padding:"5px",borderRadius:"3px"},c={borderLeft:"3px solid #616161",paddingLeft:"10px"},s=document.getElementById("content");Object.keys(e).forEach(function(t){return s.style[t]=e[t]});var u=s.querySelectorAll("blockquote p"),m=!0,p=!1,d=void 0;try{for(var h,f=function(){var e=h.value;Object.keys(c).forEach(function(t){return e.style[t]=c[t]})},g=u[Symbol.iterator]();!(m=(h=g.next()).done);m=!0)f()}catch(re){p=!0,d=re}finally{try{m||null==g.return||g.return()}finally{if(p)throw d}}var v=s.querySelectorAll("pre"),y=!0,w=!1,E=void 0;try{for(var b,k=function(){var e=b.value;Object.keys(o).forEach(function(t){return e.style[t]=o[t]})},S=v[Symbol.iterator]();!(y=(b=S.next()).done);y=!0)k()}catch(re){w=!0,E=re}finally{try{y||null==S.return||S.return()}finally{if(w)throw E}}var N=s.querySelectorAll("p code"),C=s.querySelectorAll("li code"),x=!0,O=!1,I=void 0;try{for(var D,M=function(){var e=D.value;Object.keys(i).forEach(function(t){return e.style[t]=i[t]})},j=N[Symbol.iterator]();!(x=(D=j.next()).done);x=!0)M()}catch(re){O=!0,I=re}finally{try{x||null==j.return||j.return()}finally{if(O)throw I}}var L=!0,T=!1,A=void 0;try{for(var F,P=function(){var e=F.value;Object.keys(i).forEach(function(t){return e.style[t]=i[t]})},H=C[Symbol.iterator]();!(L=(F=H.next()).done);L=!0)P()}catch(re){T=!0,A=re}finally{try{L||null==H.return||H.return()}finally{if(T)throw A}}var R=s.querySelectorAll("li"),q=!0,J=!1,z=void 0;try{for(var B,_=function(){var e=B.value;Object.keys(l).forEach(function(t){return e.style[t]=l[t]})},W=R[Symbol.iterator]();!(q=(B=W.next()).done);q=!0)_()}catch(re){J=!0,z=re}finally{try{q||null==W.return||W.return()}finally{if(J)throw z}}var K=s.querySelectorAll("a"),V=!0,G=!1,U=void 0;try{for(var Y,Q=function(){var e=Y.value;Object.keys(r).forEach(function(t){return e.style[t]=r[t]})},X=K[Symbol.iterator]();!(V=(Y=X.next()).done);V=!0)Q()}catch(re){G=!0,U=re}finally{try{V||null==X.return||X.return()}finally{if(G)throw U}}var Z=s.querySelectorAll("table"),$=!0,ee=!1,te=void 0;try{for(var ne,ae=function(){var e=ne.value;Object.keys(t).forEach(function(n){return e.style[n]=t[n]});var l=e.querySelectorAll("th"),r=!0,o=!1,i=void 0;try{for(var c,s=function(){var e=c.value;Object.keys(n).forEach(function(t){return e.style[t]=n[t]})},u=l[Symbol.iterator]();!(r=(c=u.next()).done);r=!0)s()}catch(re){o=!0,i=re}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var m=e.querySelectorAll("td"),p=!0,d=!1,h=void 0;try{for(var f,g=function(){var e=f.value;Object.keys(a).forEach(function(t){return e.style[t]=a[t]})},v=m[Symbol.iterator]();!(p=(f=v.next()).done);p=!0)g()}catch(re){d=!0,h=re}finally{try{p||null==v.return||v.return()}finally{if(d)throw h}}},le=Z[Symbol.iterator]();!($=(ne=le.next()).done);$=!0)ae()}catch(re){ee=!0,te=re}finally{try{$||null==le.return||le.return()}finally{if(ee)throw te}}}},{key:"render",value:function(){var e=this.props.input,t=w.render(e);return l.a.createElement("div",{className:"preview-container"},l.a.createElement("div",{className:"preview-title"},l.a.createElement("div",{className:"preview-title-left"},y.I18n.t("preview")," "),l.a.createElement("div",{className:"preview-title-right"},l.a.createElement("div",{className:"word-count"},l.a.createElement("span",{className:"key"},y.I18n.t("words"),":"),"\xa0",e.split(/\s|\t|\n/gi).filter(function(e){return""!==e.trim()}).length),l.a.createElement("div",{className:"word-count"},l.a.createElement("span",{className:"key"},y.I18n.t("characters"),":"),"\xa0",e.length))),l.a.createElement("div",{className:"preview"},l.a.createElement("div",{id:"content",dangerouslySetInnerHTML:{__html:t}})))}}]),t}(l.a.Component),b=(n(483),n(485),n(31)),k=n(212),S=n.n(k),N=n(116),C=n.n(N),x=n(117),O=n.n(x),I=n(207),D=n.n(I),M=n(206),j=n.n(M),L=n(25),T=n.n(L),A=n(45),F=n.n(A),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleAction=function(e){n.props.toggleDrawer(),n.props.switchCurrent(e),n.props.openFile(e)},n.editTitle=function(e){var t=document.getElementById(e).querySelector("div span");t.setAttribute("contentEditable",!0),t.focus(),t.style.border="1px solid grey",t.addEventListener("click",function(e){"true"===t.getAttribute("contentEditable")&&e.stopPropagation()}),t.addEventListener("keydown",function(e){return e.stopPropagation()}),t.addEventListener("blur",function(){t.setAttribute("contentEditable",!1),t.style.border="none",n.props.updateTitle(e,t.innerText)})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.fileList,r=t.deleteAction,o=t.current;return l.a.createElement(C.a,{className:n.root},a.map(function(t,n){return l.a.createElement(O.a,{id:t.id,key:t.id,index:n,selected:n===o,className:"title-list-ite",dense:!0,button:!0,onClick:function(){e.handleAction(n)}},l.a.createElement(j.a,{className:"doc-title-input",primary:t.title,title:t.title}),l.a.createElement(D.a,{className:"file-action-icon"},l.a.createElement(F.a,{title:y.I18n.t("rename"),placement:"top"},l.a.createElement(T.a,{className:"doc-action-btn",onClick:function(){return e.editTitle(t.id)}},l.a.createElement("i",{className:"material-icons"},"edit"))),l.a.createElement(F.a,{title:y.I18n.t("delete"),placement:"top"},l.a.createElement(T.a,{className:"doc-action-btn",onClick:function(){return r(t.id)}},l.a.createElement("i",{className:"material-icons"},"delete")))))}))}}]),t}(l.a.Component),H=Object(b.withStyles)(function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},listItem:{marginTop:"10px"},button:{marginLeft:10},selectedItem:{marginTop:"10px",color:"red"}}})(P),R=n(208),q=n.n(R),J=n(209),z=n.n(J),B=n(211),_=n.n(B),W=n(44),K=n.n(W),V=n(210),G=n.n(V);var U=Object(b.withStyles)(function(e){return{root:{width:"100%",margin:"0 auto"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},panelDetails:{padding:0}}})(function(e){var t=e.classes,n=e.fileList,a=e.switchCurrent,r=e.toggleDrawer,o=e.addDocment,i=e.deleteAction,c=e.saveDoc,s=e.current,u=e.openFile,m=e.updateTitle;return l.a.createElement("div",{className:t.root},l.a.createElement(q.a,{defaultExpanded:!0,className:"document-list"},l.a.createElement(z.a,{expandIcon:l.a.createElement(G.a,null)},l.a.createElement(K.a,{className:t.heading},y.I18n.t("documents"))),l.a.createElement(_.a,{className:t.panelDetails},l.a.createElement(H,{fileList:n,switchCurrent:a,toggleDrawer:r,addDocment:o,deleteAction:i,saveDoc:c,updateTitle:m,current:s,openFile:u}))))}),Y=n(28),Q=n.n(Y),X=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.open,a=e.toggleDrawer,r=e.fileList,o=e.switchCurrent,i=e.addDocment,c=e.deleteAction,s=e.saveDoc,u=e.current,m=e.openFile,p=e.updateTitle;return l.a.createElement("div",null,l.a.createElement(S.a,{open:n,onClose:a},l.a.createElement("div",{tabIndex:0,role:"button",className:t.list,onKeyDown:a},l.a.createElement("h4",{className:t.title},y.I18n.t("title")),l.a.createElement(U,{fileList:r,switchCurrent:o,toggleDrawer:a,addDocment:i,deleteAction:c,saveDoc:s,updateTitle:p,current:u,openFile:m}),l.a.createElement(Q.a,{variant:"contained",color:"primary",className:t.button,onClick:i},y.I18n.t("new document")),l.a.createElement(Q.a,{variant:"outlined",color:"primary",className:t.button,onClick:s},y.I18n.t("save session")))))}}]),t}(l.a.Component),Z=Object(b.withStyles)({list:{width:250},title:{paddingLeft:"20px"},button:{display:"block",width:"90%",margin:"10px auto"}})(X),$=n(220),ee=n.n($),te=n(221),ne=n.n(te),ae=n(222),le=n.n(ae),re=n(35),oe=n.n(re),ie=n(81),ce=n.n(ie),se=n(213),ue=n.n(se),me=n(216),pe=n.n(me),de=n(215),he=n.n(de),fe=n(214),ge=n.n(fe),ve=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.content,a=e.open,r=e.toggleDialog,o=e.type;return l.a.createElement("div",null,l.a.createElement(ue.a,{open:a,onClose:function(){return r(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.a.createElement(ge.a,{id:"alert-dialog-title"},t),l.a.createElement(he.a,{className:"dialog-content"},n),l.a.createElement(pe.a,null,function(e,t){return"help"===e?l.a.createElement(Q.a,{onClick:function(){return t(!1)},color:"primary"},y.I18n.t("cancel")):l.a.createElement(l.a.Fragment,null,l.a.createElement(Q.a,{onClick:function(){return t(!1)},color:"primary"},y.I18n.t("cancel")),l.a.createElement(Q.a,{variant:"contained",onClick:function(){return t(!0)},color:"secondary",autoFocus:!0},"Yes"))}(o,r))))}}]),t}(l.a.Component),ye=n(5),we=n.n(ye),Ee=n(217),be=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={displayColorPicker:!1},n.handleClick=function(){n.setState({displayColorPicker:!n.state.displayColorPicker})},n.handleClose=function(){n.setState({displayColorPicker:!1})},n.handleChange=function(e){n.setState({color:e})},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onChange,a=t.color;console.log(a);var r=we()({default:{color:{width:"36px",height:"14px",borderRadius:"2px",background:a},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",border:"1px solid #000",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2",boxShadow:"rgba(0, 0, 0, 0.1) 0 0px 10px",right:"-60px"},cover:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}}});return l.a.createElement("div",null,l.a.createElement("div",{style:r.swatch,onClick:this.handleClick},l.a.createElement("div",{style:r.color})),this.state.displayColorPicker?l.a.createElement("div",{style:r.popover},l.a.createElement("div",{style:r.cover,onClick:this.handleClose}),l.a.createElement(Ee.BlockPicker,{color:a,onChange:function(t,a){var l,r=(l=(l="rgb(".concat(t.rgb.r,", ").concat(t.rgb.g,", ").concat(t.rgb.b,")")).match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===l.length?"#"+("0"+parseInt(l[1],10).toString(16)).slice(-2)+("0"+parseInt(l[2],10).toString(16)).slice(-2)+("0"+parseInt(l[3],10).toString(16)).slice(-2):"";n("primary",r,a),e.handleChange(r)}})):null)}}]),t}(l.a.Component),ke=n(219),Se=n.n(ke),Ne=n(218),Ce=n.n(Ne),xe=function(e){return l.a.createElement("div",{style:{width:"550px",height:"380px"}},l.a.createElement("div",{className:"setting-row"},l.a.createElement("span",{className:"setting-key"},y.I18n.t("language"),":"),l.a.createElement("span",{className:"setting-value"},l.a.createElement(Ce.a,{value:e.lang,onChange:function(t){y.I18n.setLocale(t.target.value),e.handleSettingChange("lang",t.target.value,"settings")}},l.a.createElement(oe.a,{value:"en"},"English"),l.a.createElement(oe.a,{value:"zh"},"\u7b80\u4f53\u4e2d\u6587")))),l.a.createElement("div",{className:"setting-row"},l.a.createElement("span",{className:"setting-key"},y.I18n.t("theme"),":"),l.a.createElement("span",{className:"setting-value",style:{marginTop:"7px"}},l.a.createElement(be,{onChange:e.handleSettingChange,color:e.primaryColor}))),l.a.createElement("div",{className:"setting-row"},l.a.createElement("span",{className:"setting-key"},y.I18n.t("auto save"),":"),l.a.createElement("span",{className:"setting-value"},l.a.createElement(Se.a,{checked:e.autoSave,onChange:function(t,n){return e.handleSettingChange("autoSave",n,"settings")},value:e.autoSave,color:"primary"}))))},Oe={root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20},openIcon:{fontSize:"15px",color:"#bfbfbf",marginLeft:"4px"}},Ie=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={auth:!0,anchorEl:null,previewAnchorEl:null,importAnchorEl:null,showSettings:!1},n.handleImportClose=function(e,t){n.setState({importAnchorEl:null}),e&&"md"===e&&n.props.importMD(t),e&&"html"===e&&n.props.previewHtml()},n.handleImport=function(e){n.setState({importAnchorEl:e.currentTarget})},n.handlePreivew=function(e){n.setState({previewAnchorEl:e.currentTarget})},n.handleMenu=function(e){n.setState({anchorEl:e.currentTarget})},n.handlePreviewClose=function(e){n.setState({previewAnchorEl:null}),e&&"pdf"===e&&n.props.previewPdf(),e&&"md"===e&&n.props.previewMD(),e&&"html"===e&&n.props.previewHtml()},n.handleClose=function(e){n.setState({anchorEl:null}),e&&"pdf"===e&&n.props.exportPdf(),e&&"md"===e&&n.props.exportMD(),e&&"html"===e&&n.props.exportHtml()},n.goToGithub=function(){window.location="https://github.com/renhongl/markdown-editor"},n.toggleSetting=function(){n.setState({showSettings:!n.state.showSettings})},n.loginGit=function(){window.location="https://github.com/login/oauth/authorize?client_id=a3be5a8e9cc8df9b2254"},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.toggleDrawer,r=t.handleSettingChange,o=t.primaryColor,i=t.autoSave,c=t.lang,s=this.state,u=s.auth,m=s.anchorEl,p=s.previewAnchorEl,d=s.importAnchorEl,h=s.showSettings,f=Boolean(m),g=Boolean(p),v=Boolean(d);return l.a.createElement("div",{className:n.root},l.a.createElement(ee.a,{position:"static"},l.a.createElement(ve,{title:y.I18n.t("settings"),content:l.a.createElement(xe,{handleSettingChange:r,primaryColor:o,autoSave:i,lang:c}),toggleDialog:this.toggleSetting,type:"help",open:h}),l.a.createElement(ne.a,null,l.a.createElement(T.a,{className:n.menuButton,color:"inherit","aria-label":"Menu",onClick:a},l.a.createElement(le.a,null)),l.a.createElement(K.a,{variant:"h6",color:"inherit",className:n.grow},y.I18n.t("title")),u&&l.a.createElement("div",null,l.a.createElement(Q.a,{"aria-owns":v?"import-menu":void 0,"aria-haspopup":"true",onClick:this.handleImport,color:"inherit"},y.I18n.t("import from")," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement(ce.a,{id:"import-menu",anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:v,onClose:this.handleImportClose},l.a.createElement(oe.a,null,l.a.createElement("div",{className:"import-md-btn",containerelement:"label"},l.a.createElement("input",{type:"file",onChange:function(t){return e.handleImportClose("md",t)}}),"MARKDOWN"))),l.a.createElement(Q.a,{"aria-owns":g?"preview-menu":void 0,"aria-haspopup":"true",onClick:this.handlePreivew,color:"inherit"},y.I18n.t("preview as")," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement(ce.a,{id:"preview-menu",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:g,onClose:this.handlePreviewClose},l.a.createElement(oe.a,{onClick:function(){return e.handlePreviewClose("pdf")}},"PDF"),l.a.createElement(oe.a,{onClick:function(){return e.handlePreviewClose("html")}},"HTML"),l.a.createElement(oe.a,{onClick:function(){return e.handlePreviewClose("md")}},"MARKDOWN")),l.a.createElement(Q.a,{"aria-owns":f?"menu-appbar":void 0,"aria-haspopup":"true",onClick:this.handleMenu,color:"inherit"},y.I18n.t("export as")," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement(ce.a,{id:"menu-appbar",anchorEl:m,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:this.handleClose},l.a.createElement(oe.a,{onClick:function(){return e.handleClose("pdf")}},"PDF"),l.a.createElement(oe.a,{onClick:function(){return e.handleClose("html")}},"HTML"),l.a.createElement(oe.a,{onClick:function(){return e.handleClose("md")}},"MARKDOWN")),l.a.createElement(Q.a,{className:n.button,color:"inherit",onClick:this.goToGithub},"github",l.a.createElement("i",{className:"material-icons",style:Oe.openIcon},"open_in_new")),l.a.createElement(T.a,{className:"setting-icon",color:"inherit","aria-label":"Menu",onClick:this.toggleSetting},l.a.createElement("i",{className:"material-icons"},"settings"))))))}}]),t}(l.a.Component),De=Object(b.withStyles)(Oe)(Ie),Me=n(119),je=n.n(Me),Le=n(223),Te=function(){return l.a.createElement("div",{style:{width:"550px",fontSize:"13px"}},l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6807\u9898\u4e00\uff1a"),l.a.createElement("span",{className:"help-value"},"# \u6807\u9898\u4e00")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6807\u9898\u4e8c\uff1a"),l.a.createElement("span",{className:"help-value"},"## \u6807\u9898\u4e8c")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6807\u9898\u4e09\uff1a"),l.a.createElement("span",{className:"help-value"},"### \u6807\u9898\u4e09")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6807\u9898\u56db\uff1a"),l.a.createElement("span",{className:"help-value"},"#### \u6807\u9898\u56db")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6807\u9898\u4e94\uff1a"),l.a.createElement("span",{className:"help-value"},"##### \u6807\u9898\u4e94")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6807\u9898\u516d\uff1a"),l.a.createElement("span",{className:"help-value"},"###### \u6807\u9898\u516d")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u52a0\u7c97\uff1a"),l.a.createElement("span",{className:"help-value"},"**\u52a0\u7c97**")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u659c\u4f53\uff1a"),l.a.createElement("span",{className:"help-value"},"*\u659c\u4f53*")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u659c\u4f53\u52a0\u7c97\uff1a"),l.a.createElement("span",{className:"help-value"},"***\u659c\u4f53\u52a0\u7c97***")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u5220\u9664\u7ebf\uff1a"),l.a.createElement("span",{className:"help-value"},"~~\u5220\u9664\u7ebf~~")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u5f15\u7528\uff1a"),l.a.createElement("span",{className:"help-value"},"<\u5f15\u7528")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u5d4c\u5957\u5f15\u7528\uff1a"),l.a.createElement("span",{className:"help-value"},"<<\u5d4c\u5957\u5f15\u7528")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u5206\u5272\u7ebf\uff1a"),l.a.createElement("span",{className:"help-value"},"***\u6216\u8005---")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u8d85\u94fe\u63a5\uff1a"),l.a.createElement("span",{className:"help-value"},"[\u8d85\u94fe\u63a5\u540d\u5b57](\u8d85\u94fe\u63a5\u5730\u5740)")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u56fe\u7247\uff1a"),l.a.createElement("span",{className:"help-value"},"![\u56fe\u7247\u540d\u5b57](\u56fe\u7247\u5730\u5740)")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u65e0\u5e8f\u5217\u8868\uff1a"),l.a.createElement("span",{className:"help-value"},"* \u65e0\u5e8f\u5217\u8868")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u6709\u5e8f\u5217\u8868\uff1a"),l.a.createElement("span",{className:"help-value"},"1. \u6709\u5e8f\u5217\u8868")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u8868\u683c\u8868\u5934\uff1a"),l.a.createElement("span",{className:"help-value"},"\u8868\u5934|\u8868\u5934|\u8868\u5934")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u8868\u683c\u8868\u5934\u5206\u5272\u7ebf\uff1a"),l.a.createElement("span",{className:"help-value"},"---|:--:|---:\uff0c\u5192\u53f7\u7528\u6765\u51b3\u5b9a\u6587\u5b57\u5c45\u4e2d\u8fd8\u662f\u5de6\u53f3\u5bf9\u9f50")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u8868\u683c\u5185\u5bb9\uff1a"),l.a.createElement("span",{className:"help-value"},"\u5185\u5bb9|\u5185\u5bb9|\u5185\u5bb9")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u5355\u884c\u4ee3\u7801\uff1a"),l.a.createElement("span",{className:"help-value"},"`npm install`")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u591a\u884c\u4ee3\u7801\uff1a"),l.a.createElement("span",{className:"help-value"},"\u4f7f\u7528\\`\\`\\`\u5305\u56f4\uff0c\u5728\u8d77\u59cb\\`\\`\\`\u540e\u9762\u8ddf\u8bed\u8a00\u5373\u53ef\u5b9e\u73b0\u9ad8\u4eae")),l.a.createElement("p",null,l.a.createElement("span",{className:"help-key"},"\u5907\u6ce8\uff1a"),l.a.createElement("span",{className:"help-value"},'Markdown\u652f\u6301HTML\u4e66\u5199\uff0c\u5982\u679c\u4ee5\u4e0a\u8bed\u6cd5\u4e0d\u80fd\u5b8c\u6210\uff0c\u53ef\u4ee5\u4f7f\u7528\u5185\u5d4cHTML\u7684\u65b9\u5f0f\u3002\u4f8b\u5982\uff1a <span style="color: red">test</span>')))};n.n(Le)()(je.a);var Ae=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={showHelp:!1,preview:!0},n.toggleHelp=function(){n.setState({showHelp:!n.state.showHelp})},n.openTogglePreview=function(){n.state.preview?(document.querySelector(".app-left").style.width="100%",document.querySelector(".app-right").style.width="0%",n.setState({preview:!1})):(document.querySelector(".app-left").style.width="50%",document.querySelector(".app-right").style.width="50%",n.setState({preview:!0}))},n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.current!==this.props.current&&this.renderMarkdown()}},{key:"renderMarkdown",value:function(){var e=this,t=document.querySelector(".CodeMirror");t&&t.parentNode.removeChild(t);var n=this.props,a=n.value,l=n.handleValueChange;this.myCodeMirror=je()(document.querySelector(".markdown"),{value:a,mode:{name:"markdown",highlightFormatting:!0},lineNumbers:!0,theme:"default",indentUnit:4,showCursorWhenSelecting:!0,autofocus:!0,cursorScrollMargin:5,cursorHeight:1,spellcheck:!0,activeLine:!0,autocorrect:!0,lineWrapping:!0}),this.myCodeMirror.on("change",function(t,n){l(e.myCodeMirror.getValue())}),this.props.addKeDownEvent()}},{key:"componentDidMount",value:function(){this.renderMarkdown()}},{key:"render",value:function(){var e=this.props,t=e.openFullScreen,n=e.fileList,l=e.current,r=e.switchFileById,o=e.closeFile,i=e.fullScreen,c=this.state.showHelp;return a.createElement("div",{className:"markdown-container"},a.createElement(ve,{title:y.I18n.t("mardkown syntax help"),content:a.createElement(Te,null),open:c,toggleDialog:this.toggleHelp,type:"help"}),a.createElement("div",{className:"markdown-title"},a.createElement("div",{className:"title-file-list"},n.filter(function(e){return e.open}).map(function(e,t){return a.createElement("div",{onClick:function(){return r(e.id)},className:e.id===n[l].id?"title-item-wrap selected":"title-item-wrap",title:e.title,key:e.id},a.createElement("div",{className:"title-item"},e.title),a.createElement("div",{className:e.save?"title-item-status":"title-item-status unsave",onClick:function(){return o(e.id)}},e.save?"\xd7":a.createElement("span",{className:"unsave-icon"})))})),a.createElement(F.a,{title:y.I18n.t("markdown syntax"),placement:"bottom"},a.createElement(T.a,{"aria-label":"help",className:"help-btn",size:"small",onClick:this.toggleHelp},a.createElement("i",{className:"material-icons",fontSize:"small"},"help_outline"))),a.createElement(F.a,{title:y.I18n.t("full screen"),placement:"bottom"},a.createElement(T.a,{size:"small",className:"full-screen-btn","aria-label":"Delete",onClick:t},i?a.createElement("i",{className:"material-icons",fontSize:"small"},"fullscreen_exit"):a.createElement("i",{className:"material-icons",fontSize:"small"},"fullscreen"))),a.createElement(F.a,{title:y.I18n.t("toggle view"),placement:"bottom"},a.createElement(T.a,{size:"small",className:"show-preview-btn",onClick:this.openTogglePreview},a.createElement("i",{className:"material-icons",fontSize:"small"},"chrome_reader_mode")))),a.createElement("div",{className:"markdown"}))}}]),t}(a.Component),Fe=n(82),Pe=n.n(Fe),He=n(226),Re=n.n(He),qe=n(227),Je=n.n(qe),ze=n(224),Be=n(225),_e=(n(789),{container:{width:"100%",height:"100%"},fullContainer:{width:"100%",height:"calc(100% - 64px)",overflow:"hidden"},left:{width:"50%",float:"left",height:"100%",overflow:"hidden"},right:{width:"50%",float:"left",height:"100%",overflow:"hidden"}}),We=window.localStorage.getItem("pomeloSettings"),Ke=We?JSON.parse(We):{},Ve=Ke.primary||"#555555",Ge=Ke.secondary||"#d32f2f",Ue=Ke.autoSave||!1,Ye=Ke.lang||"en";y.I18n.setTranslations({en:ze,zh:Be}),y.I18n.setLocale(Ye);var Qe=Object(b.createMuiTheme)({palette:{primary:{main:Ve},secondary:{main:Ge}},typography:{useNextVariants:!0}}),Xe=function(){var e=window.localStorage.getItem("pomeloSettings");return"en"===(e?JSON.parse(e):{}).lang?'# Markdown Editor\n\n<img src="https://renhongl.github.io/markdown-editor/avator.png" width="40px"/>\n\nPomelo Markdown Editor is a full front-end side, react powered html5 markdown editor.\n\n- Type some markdown on the left\n- See preview on the right\n\n# Documentation\n\n- [\u7b80\u4f53\u4e2d\u6587](https://github.com/renhongl/markdown-editor/blob/master/doc-zh.md)\n- [English](https://github.com/renhongl/markdown-editor/blob/master/README.md)\n\n# New Features\n\n- Open multiple file at the same time --- <span style="color: red">New</span>\n- Drag markdown file to left, automatic get content\n- Import from markdown file, get all data from your local\n- Export as pdf, html and markdown\n- Change theme and other settings by click setting button\n\nYou can also:\n\n- Save your document to local\n- Get help from markdown syntax help document\n- Swtich to full screen to focus your writing\n\n# Tech\n\nPomelo Markdown Editor uses a number of open source projects to work properly:\n\n- [React]() - HTML enhanced for web apps\n- [CodeMirror]() - Versatile text edior\n- [html2pdf]() - Client-side pdf convert tool\n- [GitPages]() - Code store and deploy\n- [markdown-it]() - Markdown preview library\n- [travis]() - Automatic test and deploy\n\n# Installation\n\nPomelo Markdown Editor requires [Node.js]() v8+ to run.\n\n- Install dependence: `npm install`\n- Build app: `npm run build`\n\n# Todos\n\n- <input type="checkbox" checked disabled/>Multiple language support\n- <input type="checkbox" checked disabled/>Ctrl-S to quick save\n- <input type="checkbox" checked disabled/>Show status for does not save file\n- <input type="checkbox" disabled/>Explore save to third party service\n\n# License\n\nMIT\n\n\n\n\n':'# \u67da\u5b50 Markdown \u7f16\u8f91\u5668\n\n<img src="https://renhongl.github.io/markdown-editor/avator.png" width="40px"/>\n\n\u67da\u5b50 Markdown \u7f16\u8f91\u5668\u662f\u4e00\u4e2a\u7eaf\u524d\u7aef\u8bed\u8a00\uff0c\u57fa\u4e8e react \u7684 html5 markdown \u7f16\u8f91\u5668\u3002\n\n- \u5728\u5de6\u8fb9\u5199\u5165 markdown \u5185\u5bb9\n- \u5728\u53f3\u8fb9\u9884\u89c8\n\n# \u6587\u6863\n\n- [\u7b80\u4f53\u4e2d\u6587](https://github.com/renhongl/markdown-editor/blob/master/doc-zh.md)\n- [English](https://github.com/renhongl/markdown-editor/blob/master/README.md)\n\n# \u65b0\u7279\u6027\n\n- \u540c\u65f6\u6253\u5f00\u591a\u4e2a\u6587\u6863 --- <span style="color: red">\u65b0</span>\n- \u62d6\u52a8 Markdown \u6587\u6863\u5230\u5de6\u8fb9\u533a\u57df\uff0c\u81ea\u52a8\u5bfc\u5165\u672c\u5730\u6587\u672c\n- \u4ece\u4f60\u7684\u672c\u5730\u5bfc\u5165 markdwon \u6587\u6863\n- \u5bfc\u51fa\u6210 pdf\uff0chtml\uff0c\u4ee5\u53ca markdown\n- \u901a\u8fc7\u8bbe\u7f6e\u6309\u94ae\u4fee\u6539\u4e3b\u9898\u4ee5\u53ca\u5176\u4ed6\u8bbe\u7f6e\n\n\u4f60\u4e5f\u53ef\u4ee5:\n\n- \u4fdd\u5b58\u4f60\u7684\u6587\u6863\u5230\u672c\u5730\n- \u901a\u8fc7\u5e2e\u52a9\u6587\u6863\u67e5\u770b markdwon \u53e5\u6cd5\n- \u5207\u6362\u5230\u5168\u5c4f\u4e13\u6ce8\u6587\u6863\u7f16\u5199\n\n# \u4f7f\u7528\u6280\u672f\n\n\u67da\u5b50 Markdown \u7f16\u8f91\u5668\u4f7f\u7528\u4e86\u4e0b\u4e00\u4e9b\u6280\u672f\uff1a\n\n- [React]() - js \u7f51\u9875\u589e\u5f3a\u5e93\n- [CodeMirror]() - \u591a\u624d\u591a\u827a\u7684\u6587\u672c\u7f16\u8f91\u5668\n- [html2pdf]() - \u5ba2\u6237\u7aef\u7684 pdf \u8f6c\u5316\u5de5\u5c40\n- [GitPages]() - \u4ee3\u7801\u4fdd\u5b58\u4e0e\u90e8\u7f72\n- [markdown-it]() - Markdown \u9884\u89c8\u5e93\n- [travis]() - \u81ea\u52a8\u6d4b\u8bd5\u4e0e\u90e8\u7f72\n\n# \u5b89\u88c5\n\n\u67da\u5b50 Markdown \u7f16\u8f91\u5668\u9700\u8981 [Node.js]() v8+ \u53bb\u8fd0\u884c.\n\n- \u5b89\u88c5\u4f9d\u8d56: `npm install`\n- \u6253\u5305\u5e94\u7528: `npm run build`\n\n# \u6b63\u5728\u5b9e\u73b0\u7684\u5217\u8868\n\n- <input type="checkbox" checked disabled/>\u591a\u8bed\u8a00\u652f\u6301\n- <input type="checkbox" checked disabled/>Ctrl-S \u5feb\u901f\u4fdd\u5b58\n- <input type="checkbox" checked disabled/>\u5c55\u793a\u672a\u4fdd\u5b58\u6587\u6863\u7684\u72b6\u6001\n- <input type="checkbox" disabled/>\u63a2\u7d22\u5982\u4f55\u4fdd\u5b58\u6587\u6863\u5230\u7b2c\u4e09\u65b9\n\n# \u8bb8\u53ef\u8bc1\n\nMIT\n\n\n\n\n'},Ze=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={theme:null,primary:Ve,secondary:Ge,autoSave:Ue,lang:Ye,fullScreen:!1},n.handleValueChange=function(e){n.updateFileListText(e)},n.addKeDownEvent=function(){document.querySelector(".markdown").addEventListener("keydown",function(e){e.ctrlKey&&83===e.which&&(n.saveCurrentDoc(),e.preventDefault())})},n.handleSettingChange=function(e,t,a){n.setState(Object(i.a)({},e,t),function(){"settings"!==a&&n.updateTheme(),n.saveToLocalStorage(e,t),"autoSave"===e&&t&&n.autoSaveDoc(),"autoSave"!==e||t||clearInterval(n.saveTimer)})},n.toggleDrawer=function(){n.setState({left:!n.state.left})},n.previewPdf=function(){var e=n.state,t=e.fileList,a=e.current,l=document.getElementById("content"),r={margin:[.5,.5,.5,.5],filename:t[a].title.replace(".md",""),image:{type:"jpeg",quality:.98},pagebreak:{mode:["avoid-all"]},html2canvas:{dpi:192,letterRendering:!0,useCORS:!0,imageTimeout:0},useCORS:!0,jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Pe()().set(r).from(l).toPdf().get("pdf").then(function(e){window.open(e.output("bloburl"),"_blank")})},n.getPdf=function(e){var t=n.state,a=t.fileList,l=t.current,r=document.getElementById("content"),o={margin:[.5,.5,.5,.5],filename:a[l].title.replace(".md",""),image:{type:"jpeg",quality:.98},pagebreak:{mode:["avoid-all"]},html2canvas:{dpi:192,letterRendering:!0,useCORS:!0,imageTimeout:0},useCORS:!0,jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Pe()().set(o).from(r).toPdf().get("pdf").then(function(t){e(t.output("bloburl"),"aaa")})},n.exportPdf=function(){var e=n.state,t=e.fileList,a=e.current,l=document.getElementById("content"),r={margin:[.5,.5,.5,.5],filename:t[a].title.replace(".md",""),image:{type:"jpeg",quality:.98},pagebreak:{mode:["avoid-all"]},html2canvas:{dpi:192,letterRendering:!0,useCORS:!0,imageTimeout:0},useCORS:!0,jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};Pe()().set(r).from(l).save()},n.previewHtml=function(){var e=n.state,t=e.fileList,a=e.current,l=document.querySelector(".preview"),r=window.open();r.document.open();var o="<title>".concat(t[a].title.replace(/.md/gi,".html"),"</title>").concat(l.innerHTML);r.document.write(o)},n.previewMD=function(){var e=n.state,t=e.fileList,a=e.current,l=window.open();l.document.open();var r="<title>".concat(t[a].title.replace(/.md/gi,".md"),"</title>").concat(t[a].text.replace(/\n|\r/gi,"<br/>").replace(/\t|\s/gi,"&nbsp;"));l.document.write(r)},n.exportHtml=function(){var e=n.state,t=e.fileList,a=e.current,l=document.querySelector(".preview");n.download(t[a].title.replace(".md",".html"),l.innerHTML)},n.exportMD=function(){var e=n.state,t=e.fileList,a=e.current;n.download(t[a].title,t[a].text)},n.switchFileById=function(e){var t=0;n.state.fileList.forEach(function(n,a){n.id===e&&(t=a)}),n.switchCurrent(t)},n.closeFile=function(e){var t=JSON.parse(JSON.stringify(n.state.fileList));t.forEach(function(t,n){t.id===e&&(t.open=!1)}),window.localStorage.setItem("pomeloMd",JSON.stringify(t)),n.setState({fileList:t},function(){n.switchCurrent(-1);var e=!1;t.forEach(function(t,a){t.open&&!e&&(n.switchCurrent(a),e=!0)})})},n.openFile=function(e){var t=0,a=JSON.parse(JSON.stringify(n.state.fileList));a.forEach(function(n,a){a===e&&(n.open=!0,t=n.id)}),n.setState({fileList:a});var l=window.localStorage.getItem("pomeloMd"),r=l?JSON.parse(l):[];r.forEach(function(e){e.id===t&&(e.open=!0)}),window.localStorage.setItem("pomeloMd",JSON.stringify(r))},n.switchCurrent=function(e){n.setState({current:e},function(){n.handleEvents()})},n.deleteAction=function(e){n.setState({openDialog:!0,openId:e})},n.addDocment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(y.I18n.t("untitled document"),"-").concat(n.getIndex(),".md"),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xe();n.setState({fileList:[].concat(Object(o.a)(n.state.fileList),[{id:Math.random(),title:t,text:a,save:!0,open:!0}])},function(){var e=n.state.fileList.length-1;n.setState({current:e},function(){n.switchCurrent(e),n.saveCurrentDoc()})})},n.saveDoc=function(){var e=JSON.parse(JSON.stringify(n.state.fileList));e.forEach(function(e){e.save=!0});var t=JSON.stringify(e);window.localStorage.setItem("pomeloMd",t),n.setState({fileList:e}),n.showMessage("Save Documents Successfully.")},n.updateTitle=function(e,t){var a=JSON.parse(JSON.stringify(n.state.fileList));a.forEach(function(n,a){e===n.id&&(n.title=t)}),n.setState({fileList:a});var l=window.localStorage.getItem("pomeloMd"),r=l?JSON.parse(l):[];r.forEach(function(n){n.id===e&&(n.title=t)}),window.localStorage.setItem("pomeloMd",JSON.stringify(r))},n.closeSnack=function(){n.setState({snackOpen:!1})},n.toggleDialog=function(e){n.setState({openDialog:!n.state.openDialog,current:-1},function(){if(e){var t=Object(o.a)(n.state.fileList),a=t.filter(function(e){return e.id===n.state.openId})[0];0===(t=t.filter(function(e){return e.id!==n.state.openId})).length&&(t[0]=a,t[0].title="".concat(y.I18n.t("untitled document"),"-").concat(n.getIndex([]),".md"),t[0].text=Xe(),t[0].save=!0,t[0].open=!0);var l=0,r=!1;n.state.fileList.forEach(function(e,t){e.open&&!r&&(l=t,r=!0)}),r||n.openFile(l),n.setState({fileList:t,current:l},function(){n.switchCurrent(l),n.deleteById(n.state.openId)})}})},n.showMessage=function(e){n.setState({snackMsg:e},function(){n.setState({snackOpen:!0})})},n.openFullScreen=function(){var e=document.querySelector(".full-container");void 0===n.state.fullScreen||!1===n.state.fullScreen?(console.log("full"),e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen(),n.setState({fullScreen:!0})):(console.log("exit"),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),n.setState({fullScreen:!1}))},n.importMD=function(e){var t=e.target.files[0];if(t){var a=new FileReader;a.onload=function(e){var a=e.target.result;n.addDocment(null,t.name,a),n.switchCurrent(n.state.fileList.length-1)},a.readAsText(t)}};var a=window.localStorage.getItem("pomeloMd");return a&&0!==JSON.parse(a).length?(a=JSON.parse(a))[0].open=!0:a=[{id:Math.random(),title:"".concat(y.I18n.t("untitled document"),"-1.md"),text:Xe(),save:!0,open:!0}],n.state={current:0,left:!1,fileList:a,snackOpen:!1,snackMsg:"",openDialog:!1,openId:null},n.converter=new d.Converter({tables:!0,simplifiedAutoLink:!0}),n.saveCurrentDoc(),n}return Object(p.a)(t,e),Object(s.a)(t,[{key:"getIndex",value:function(e){if(e instanceof Array&&0===e.length)return 1;var t=e||this.state.fileList.map(function(e){return e.title.split(/-|\./g)[1]});return 0===(t=t.filter(function(e){return!Number.isNaN(Number(e))})).length?1:(Math.max.apply(null,t)||0)+1}},{key:"updateFileListText",value:function(e){var t=this,n=JSON.parse(JSON.stringify(this.state.fileList));n.forEach(function(n,a){a===t.state.current&&(n.text=e,n.save=!1)}),this.setState({fileList:n})}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.handleEvents()},700),this.state.autoSave&&this.autoSaveDoc(),this.addKeDownEvent()}},{key:"getUrlVars",value:function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,n,a){e[n]=a}),e}},{key:"saveCurrentDoc",value:function(){var e=!1,t=this.state.current,n=this.state.fileList.filter(function(e,n){return t===n}),a=window.localStorage.getItem("pomeloMd"),l=a?JSON.parse(a):[];l.forEach(function(t){t.id===n[0].id&&(t.text=n[0].text,t.save=!0,e=!0)}),e||(n[0].save=!0,l.push(n[0])),window.localStorage.setItem("pomeloMd",JSON.stringify(l));var r=JSON.parse(JSON.stringify(this.state.fileList));r.forEach(function(e,n){n===t&&(e.save=!0)}),this.setState({fileList:r})}},{key:"autoSaveDoc",value:function(){var e=this;this.saveTimer&&clearInterval(this.saveTimer),this.saveTimer=setInterval(function(){e.saveDoc()},3e4)}},{key:"updateTheme",value:function(){var e=Object(b.createMuiTheme)({palette:{primary:{main:this.state.primary||Ve},secondary:{main:this.state.secondary||Ge}},typography:{useNextVariants:!0}});this.setState({theme:e})}},{key:"saveToLocalStorage",value:function(e,t){var n=window.localStorage.getItem("pomeloSettings"),a=n?JSON.parse(n):{};a[e]=t,window.localStorage.setItem("pomeloSettings",JSON.stringify(a))}},{key:"download",value:function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"getFileObj",value:function(e){return this.state.fileList.filter(function(t){return t.id===e})[0]}},{key:"handleEvents",value:function(){var e=document.querySelector(".preview"),t=document.querySelector(".CodeMirror-scroll");if(t){var n=-1,a=null,l=function(){null!==a&&clearTimeout(a),a=setTimeout(function(){n=-1},20)};t.addEventListener("scroll",function(t){if(-1===n){n=0;var a=t.target.scrollTop/(t.target.scrollHeight-t.target.clientHeight);e.scrollTop=(e.scrollHeight-e.clientHeight)*a,l()}}),e.addEventListener("scroll",function(e){if(-1===n){n=1;var a=e.target.scrollTop/(e.target.scrollHeight-e.target.clientHeight);t.scrollTop=(t.scrollHeight-t.clientHeight)*a,l()}})}}},{key:"deleteById",value:function(e){var t=window.localStorage.getItem("pomeloMd"),n=(t?JSON.parse(t):[]).filter(function(t){return t.id!==e});window.localStorage.setItem("pomeloMd",JSON.stringify(n))}},{key:"render",value:function(){var e=this.state,t=e.fileList,n=e.left,l=e.current,r=e.snackOpen,o=e.snackMsg,i=e.openDialog,c=e.openId,s=e.theme,u=e.primary,m=e.autoSave,p=e.lang,d=e.fullScreen,h=0;t.forEach(function(e,t){e.id===c&&(h=t)});return a.createElement(b.MuiThemeProvider,{theme:s||Qe},a.createElement("div",{style:_e.container},a.createElement(ve,{title:"Are you sure you want to delete this document?",content:a.createElement(function(){return a.createElement("div",null,t[h].title,a.createElement("br",null),"Words Count:"," ",t[h].text.split(/\s|\t|\n/gi).filter(function(e){return""!==e.trim()}).length)},null),open:i,toggleDialog:this.toggleDialog}),a.createElement(De,{toggleDrawer:this.toggleDrawer,exportMD:this.exportMD,exportPdf:this.exportPdf,exportHtml:this.exportHtml,previewHtml:this.previewHtml,previewPdf:this.previewPdf,previewMD:this.previewMD,importMD:this.importMD,handleSettingChange:this.handleSettingChange,primaryColor:u||Ve,autoSave:void 0===m?Ue:m,lang:p||Ye}),a.createElement(Z,{open:n,toggleDrawer:this.toggleDrawer,fileList:t,switchCurrent:this.switchCurrent,addDocment:this.addDocment,deleteAction:this.deleteAction,saveDoc:this.saveDoc,current:l,updateTitle:this.updateTitle,openFile:this.openFile}),a.createElement("div",{className:"full-container",style:_e.fullContainer},a.createElement("div",{className:"app-left",style:_e.left},-1!==l?a.createElement(Ae,{title:t[l].title,save:t[l].save,fileList:t,handleValueChange:this.handleValueChange,value:t[l].text,current:l,openFullScreen:this.openFullScreen,switchFileById:this.switchFileById,closeFile:this.closeFile,currentId:t[l].id,addKeDownEvent:this.addKeDownEvent,fullScreen:d}):null),a.createElement("div",{className:"app-right",style:_e.right},-1!==l?a.createElement(E,{input:t[l].text,getPdf:this.getPdf}):null)),a.createElement(Re.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:r,autoHideDuration:6e3,onClose:this.closeSnack,message:a.createElement("span",{id:"message-id"},o),action:[a.createElement(T.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.closeSnack},a.createElement(Je.a,null))]})))}}]),t}(a.Component);n(796);Object(r.render)(l.a.createElement(function(){return l.a.createElement(Ze,null)},null),document.getElementById("root"))}},[[228,2,1]]]);
//# sourceMappingURL=main.8ae80965.chunk.js.map